name: Update Blue Team Radar

on:
  schedule:
    - cron: "0 0 * * *"  # Runs daily at midnight
  workflow_dispatch:     # Allows manual triggering

jobs:
  generate:
    runs-on: ubuntu-latest

    steps:
      # Step 1: Checkout the repo
      - name: Checkout Repository
        uses: actions/checkout@v3

      # Step 2: Generate radar SVG based on GitHub activity
      - name: Generate Blue Team Radar
        uses: cicirello/user-statistician@v1
        with:
          image-file: resident-evil-radar.svg
          include-title: false
          colors: "00FF00,0077FF,00AAFF"
          commit-and-push: true
          commit-message: "Update Blue Team Radar"

      # Step 3: Commit changes back to main branch
      - name: Commit & Push
        uses: EndBug/add-and-commit@v9
        with:
          author_name: "stats-bot"
          author_email: "stats-bot@users.noreply.github.com"
          message: "Update Blue Team Radar SVG"
