<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Threat Intelligence Dashboard</title>
<style>
  body {
    background: #0f172a;
    color: #e5e7eb;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    padding: 20px;
  }
  .dashboard {
    width: 350px;
  }
  text {
    font-family: Arial, sans-serif;
  }
</style>
</head>
<body>
<div class="dashboard">
  <svg id="dashboard" width="100%" height="200" xmlns="http://www.w3.org/2000/svg">
    <rect width="100%" height="100%" rx="12" fill="#0f172a"/>
    <text x="20" y="28" font-size="16" font-weight="bold" fill="#e5e7eb">Threat Intelligence Dashboard</text>

    <text id="critical" x="20" y="60" font-size="18" fill="#8B0000">Critical Alerts: 0</text>
    <text id="abnormal" x="20" y="90" font-size="18" fill="#FFA500">Abnormal Alerts: 0</text>
    <text id="medium" x="20" y="120" font-size="18" fill="#FFFF66">Medium Severity: 0</text>
    <text id="investigated" x="20" y="150" font-size="18" fill="#00CED1">Investigated: 0</text>
    <text id="updated" x="20" y="175" font-size="12" fill="#94a3b8">Updated: -</text>
  </svg>
</div>

<script>
// Function to generate simulated live data
function getLiveData() {
  return {
    critical: Math.floor(Math.random() * 40),
    abnormal: Math.floor(Math.random() * 80),
    medium: Math.floor(Math.random() * 120),
    investigated: Math.floor(Math.random() * 200),
    updated: new Date().toLocaleTimeString()
  };
}

// Update numbers and glow
function updateDashboard() {
  const data = getLiveData();

  const updateText = (id, value, color) => {
    const el = document.getElementById(id);
    el.textContent = `${value.label}: ${value.number}`;
    // Glow animation using SVG fill transition
    el.animate(
      [
        { fill: color },
        { fill: '#fff' },
        { fill: color }
      ],
      { duration: 700, iterations: 1 }
    );
  };

  updateText('critical', {label:'Critical Alerts', number:data.critical}, '#8B0000');
  updateText('abnormal', {label:'Abnormal Alerts', number:data.abnormal}, '#FFA500');
  updateText('medium', {label:'Medium Severity', number:data.medium}, '#FFFF66');
  updateText('investigated', {label:'Investigated', number:data.investigated}, '#00CED1');

  document.getElementById('updated').textContent = `Updated: ${data.updated}`;
}

// Update every 2 seconds
setInterval(updateDashboard, 2000);

// Initial update
updateDashboard();
</script>
</body>
</html>
